# Policy Search Tool for Customer Support - YAML format
record_kind: semantic_search

name: search_policies

description: >
  Search airline policies using semantic search on airline data from travel-sample.
  This demonstrates YAML-based tool configuration.

input:
  type: object
  properties:
    policy_query:
      type: string
      description: "Description of the policy question or situation"
    policy_type:
      type: string
      enum: ["cancellation", "refund", "baggage", "change", "delay", "general"]
      description: "Type of policy to search for"
  required: ["policy_query"]

annotations:
  domain: "policies"
  format: "yaml_demo"
  compliance: "regulatory"

secrets:
  - couchbase:
      conn_string: CB_CONN_STRING
      username: CB_USERNAME
      password: CB_PASSWORD
      certificate: CB_CERTIFICATE

vector_search:
  bucket: travel-sample
  scope: inventory
  collection: airline
  index: airline_vector_index
  vector_field: name_embedding
  text_field: name
  
  embedding_model:
    name: sentence-transformers/all-MiniLM-L12-v2
    
  num_candidates: 5