
2025-09-23 19:35:02,931 - __main__ - INFO - âœ… Phoenix setup completed successfully
2025-09-23 19:35:02,938 - __main__ - INFO - âœ… LangChain instrumentation enabled
2025-09-23 19:35:02,940 - __main__ - INFO - âœ… OpenAI instrumentation enabled
2025-09-23 19:35:05,876 - shared.couchbase_client - INFO - âœ… Successfully connected to Couchbase
2025-09-23 19:35:07,732 - shared.couchbase_client - INFO - âœ… Connected to existing bucket 'travel-sample'
2025-09-23 19:35:07,732 - shared.couchbase_client - INFO - ğŸ—‘ï¸ Clearing scope: travel-sample.agentc_bookings
2025-09-23 19:35:09,356 - shared.couchbase_client - INFO - ğŸ—‘ï¸ Clearing data from travel-sample.agentc_bookings.user_bookings_20250923...
2025-09-23 19:35:13,075 - shared.couchbase_client - INFO - âœ… Cleared collection: travel-sample.agentc_bookings.user_bookings_20250923
2025-09-23 19:35:13,075 - shared.couchbase_client - INFO - âœ… Completed clearing scope: travel-sample.agentc_bookings
2025-09-23 19:35:13,075 - main - INFO - âœ… Cleared existing flight bookings for fresh test run: travel-sample.agentc_bookings
2025-09-23 19:35:13,099 - data.airline_reviews_data - INFO - Downloading Indian Airlines Customer Reviews dataset from Kaggle...
2025-09-23 19:35:13,584 - data.airline_reviews_data - INFO - Loading reviews from /home/kaustav/.cache/kagglehub/datasets/jagathratchakan/indian-airlines-customer-reviews/versions/1/Indian_Domestic_Airline.csv
2025-09-23 19:35:13,604 - data.airline_reviews_data - INFO - Loaded 2210 airline reviews from Kaggle dataset
2025-09-23 19:35:13,606 - data.airline_reviews_data - INFO - Processed 2210 airline reviews into text format
2025-09-23 19:35:14,945 - main - INFO - ğŸ“Š Airline reviews collection: 2210 existing, 2210 expected
2025-09-23 19:35:14,945 - main - INFO - âœ… Collection already has correct document count (2210), skipping clear
2025-09-23 19:35:14,946 - __main__ - INFO - ğŸ”§ Setting up flight search agent...
2025-09-23 19:35:14,946 - shared.agent_setup - INFO - âœ… Environment variables configured
2025-09-23 19:35:19,208 - shared.couchbase_client - INFO - âœ… Successfully connected to Couchbase
2025-09-23 19:35:20,823 - shared.couchbase_client - INFO - âœ… Connected to existing bucket 'travel-sample'
2025-09-23 19:35:23,695 - shared.couchbase_client - INFO - â„¹ï¸ Collection 'airline_reviews' exists, keeping existing data
2025-09-23 19:35:28,316 - shared.couchbase_client - INFO - âœ… Primary index created successfully
2025-09-23 19:35:28,316 - shared.couchbase_client - INFO - âœ… Collection setup complete: agentc_data.airline_reviews
2025-09-23 19:35:28,316 - main - INFO - Loaded vector search index definition from agentcatalog_index.json
2025-09-23 19:35:29,941 - shared.couchbase_client - INFO - â„¹ï¸ Vector search index 'airline_reviews_index' already exists
2025-09-23 19:35:29,942 - shared.agent_setup - INFO - ğŸ”§ Setting up AI services for langgraph framework...
2025-09-23 19:35:30,090 - shared.agent_setup - INFO - âœ… Using latest Capella AI embeddings (direct API key + OpenAI wrapper)
2025-09-23 19:35:31,617 - shared.agent_setup - INFO - âœ… Using latest Capella AI LLM (direct API key + OpenAI wrapper)
2025-09-23 19:35:31,617 - shared.agent_setup - INFO - âœ… AI services setup completed for langgraph
2025-09-23 19:35:31,617 - shared.couchbase_client - INFO - ğŸ”„ Loading data into vector store...
2025-09-23 19:35:32,933 - data.airline_reviews_data - INFO - Found 2210 existing documents in collection, skipping data load
2025-09-23 19:35:32,934 - shared.couchbase_client - INFO - âœ… Data loaded into vector store successfully
2025-09-23 19:35:37,515 - shared.couchbase_client - INFO - âœ… LangChain vector store setup complete: travel-sample.agentc_data.airline_reviews
2025-09-23 19:35:37,515 - shared.agent_setup - INFO - ğŸ”§ Setting up AI services for langgraph framework...
2025-09-23 19:35:37,543 - shared.agent_setup - INFO - âœ… Using latest Capella AI embeddings (direct API key + OpenAI wrapper)
2025-09-23 19:35:38,956 - shared.agent_setup - INFO - âœ… Using latest Capella AI LLM (direct API key + OpenAI wrapper)
2025-09-23 19:35:38,956 - shared.agent_setup - INFO - âœ… AI services setup completed for langgraph
2025-09-23 19:36:03,152 - main - INFO - Agent Catalog integration successful
2025-09-23 19:36:03,154 - __main__ - INFO - âœ… Flight search agent setup completed successfully
2025-09-23 19:36:03,154 - __main__ - INFO - ğŸš€ Starting evaluation with 5 queries
2025-09-23 19:36:03,154 - __main__ - INFO - ğŸ“‹ Evaluation Configuration:
2025-09-23 19:36:03,154 - __main__ - INFO -    ğŸ¤– Agent: Flight Search Agent (LangGraph)
2025-09-23 19:36:03,154 - __main__ - INFO -    ğŸ”§ Phoenix Available: âœ…
2025-09-23 19:36:03,154 - __main__ - INFO -    ğŸ“Š Arize Datasets: âœ…
2025-09-23 19:36:03,154 - __main__ - INFO -    ğŸ§  Phoenix Evaluators: ['relevance', 'qa_correctness', 'hallucination', 'toxicity']
2025-09-23 19:36:03,154 - __main__ - INFO - 
ğŸ“‹ Query 1/5
2025-09-23 19:36:03,154 - __main__ - INFO - ğŸ” Evaluating query: Find flights from JFK to LAX
2025-09-23 19:36:03,155 - main - INFO - Flight Query: Find flights from JFK to LAX
2025-09-23 19:36:08,612 - main - INFO - ğŸ“Š Agent response: Thought: The user has found flights from JFK to LAX using the lookup_flight_info tool.
Final Answer:...
2025-09-23 19:36:08,621 - __main__ - INFO - âœ… Query completed in 5.47s
2025-09-23 19:36:08,621 - __main__ - INFO - 
ğŸ“‹ Query 2/5
2025-09-23 19:36:08,621 - __main__ - INFO - ğŸ” Evaluating query: Book a flight from LAX to JFK for tomorrow, 2 passengers, business class
2025-09-23 19:36:08,623 - main - INFO - Flight Query: Book a flight from LAX to JFK for tomorrow, 2 passengers, business class
2025-09-23 19:36:21,120 - main - INFO - ğŸ“Š Agent response: The previous response was an error. The correct response should be:

<function/save_flight_booking>{...
2025-09-23 19:36:21,130 - __main__ - INFO - âœ… Query completed in 12.51s
2025-09-23 19:36:21,130 - __main__ - INFO - 
ğŸ“‹ Query 3/5
2025-09-23 19:36:21,130 - __main__ - INFO - ğŸ” Evaluating query: Book an economy flight from JFK to MIA for next week, 1 passenger
2025-09-23 19:36:21,131 - main - INFO - Flight Query: Book an economy flight from JFK to MIA for next week, 1 passenger
2025-09-23 19:36:27,533 - main - INFO - ğŸ“Š Agent response: Thought: I need to book a flight using save_flight_booking tool
Action: save_flight_booking
Action I...
2025-09-23 19:36:27,544 - __main__ - INFO - âœ… Query completed in 6.41s
2025-09-23 19:36:27,544 - __main__ - INFO - 
ğŸ“‹ Query 4/5
2025-09-23 19:36:27,544 - __main__ - INFO - ğŸ” Evaluating query: Show me my current flight bookings
2025-09-23 19:36:27,545 - main - INFO - Flight Query: Show me my current flight bookings
2025-09-23 19:36:41,561 - main - INFO - ğŸ“Š Agent response: Thought: The user wants to see their current flight bookings.
Action: Retrieve flight bookings using...
2025-09-23 19:36:41,569 - __main__ - INFO - âœ… Query completed in 14.02s
2025-09-23 19:36:41,569 - __main__ - INFO - 
ğŸ“‹ Query 5/5
2025-09-23 19:36:41,569 - __main__ - INFO - ğŸ” Evaluating query: What do passengers say about SpiceJet's service quality?
2025-09-23 19:36:41,571 - main - INFO - Flight Query: What do passengers say about SpiceJet's service quality?
2025-09-23 19:36:48,792 - search_airline_reviews - INFO - Searching for airline reviews with query: 'SpiceJet service quality'
2025-09-23 19:36:51,657 - search_airline_reviews - INFO - Found 5 results for query: 'SpiceJet service quality'
2025-09-23 19:36:54,676 - main - INFO - ğŸ“Š Agent response: Final Answer: Passengers have generally positive experiences with SpiceJet's service quality, with m...
